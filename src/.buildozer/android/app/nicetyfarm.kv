#:kivy 1.9
WindowManager:
    LoginScreen:
    SignupScreen:
    DashboardScreen:
    ScanCropScreen:

<LoginScreen>:
    name: "LoginPage"

    FloatLayout:
        size: root.width, root.height
        canvas.before:
            Color:
                rgba: 0.15, 0.47, 0.14, 1
            Rectangle:
                pos: self.pos
                size: self.size

        background_color: 0.3, 0.8, 0, 1
        Label:
            text: "Welcome To Nicetyfarm"
            pos_hint: {"top":1.4}

        Image:
            pos_hint: {"top":1.05, "x":0.35}
            size_hint: 0.3, 0.6
            source: "nicetyfarm.png"

        Button:
            text:"Login with facebook"
            color: 1, 1, 1 ,1
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.6, "x":0.1}
            background_color: 0, 0, 0, 1

        Label:
            text:"Phone Number:"
            pos_hint: {"top":0.98, "x":-0.24}

        TextInput:
            multiline: False
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.45, "x":0.1}
            id: phone

        Label:
            text:"Password:"
            pos_hint: {"top":0.83, "x":-0.27}
        
        TextInput:
            multiline: False
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.3, "x":0.1}
            id: password
            border: 30, 30, 30, 30

        Button:
            id: loginBtn
            text:"Login"
            color: 1, 1, 1 ,1
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.17, "x":0.1}
            background_color: "black"
            # on_press: root.login()
            on_release: app.root.current = "DashboardPage"
            
            # background_color: "none"

        Button:
            text:"Have no account? REGISTER"
            pos_hint: {"top":0.08, "x":0.15}
            color: 0.93, 0.83, 0.1, 1
            size_hint: 0.7, 0.06
            on_release: app.root.current = "SignupPage"
            background_color: 0.001, 1, 0.14, 1

<SignupScreen>:
    name: "SignupPage"

    FloatLayout:
        size: root.width, root.height
        canvas.before:
            Color:
                rgba: 0.15, 0.47, 0.14, 1
            Rectangle:
                pos: self.pos
                size: self.size

        background_color: 0.3, 0.8, 0, 1
        Label:
            text: "Welcome To Nicetyfarm"
            pos_hint: {"top":1.4}

        Image:
            pos_hint: {"top":1.05, "x":0.35}
            size_hint: 0.3, 0.6
            source: "nicetyfarm.png"

        Button:
            text:"SignUp with facebook"
            color: 1, 1, 1 ,1
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.6, "x":0.1}
            background_color: 0, 0, 0, 1

        Label:
            text:"Phone Number:"
            pos_hint: {"top":0.98, "x":-0.24}

        TextInput:
            multiline: False
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.45, "x":0.1}
            id: phone

        Label:
            text:"Password:"
            pos_hint: {"top":0.83, "x":-0.27}
        
        TextInput:
            multiline: False
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.3, "x":0.1}
            id: password
            border: 30, 30, 30, 30

        Button:
            id: SignupBtn
            text:"SignUp"
            color: 1, 1, 1 ,1
            size_hint: 0.8, 0.08
            pos_hint: {"top":0.17, "x":0.1}
            background_color: "black"
            # on_press: root.login()
            on_release: app.root.current = "DashboardPage"

        Button:
            text:"Already Have An account? LOGIN"
            pos_hint: {"top":0.08, "x":0.1}
            color: 0.93, 0.83, 0.1, 1
            size_hint: 0.8, 0.06
            on_release: app.root.current = "LoginPage"
            background_color: 0.001, 1, 0.14, 1


<DashboardScreen>:
    name: "DashboardPage"
    padding: 10
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
        # Color:
        #     rgba: 0.15, 0.57, 0.14, 1
        # Rectangle:
        #     pos: self.pos
        #     size: self.width, self.height /4
        
    GridLayout:
        cols:1
        padding: 20
        FloatLayout:
            # cols:2
            # padding: 50
            Image:
                padding:20
                pos_hint: {"top":1, "x":-0.35}
                size: 0.1, 0.1
                source: "menu.png"

            Image:
                pos_hint: {"y":0, "x":0.35}
                size: 3, 2
                source: "notification.png"

        FloatLayout:
            # cols:2
            Label:
                text: "Hello, John"
                color: "black"
                pos_hint: {"top":1, "x":-0.35}
                # size: 0.6, 0.6
                # source: "menu.png"

            # FloatLayout:
            #     # cols:2
            #     Image:
            #         pos_hint: {"top":0.9, "x":0.35}
            #         size: 20, 20
            #         source: "location.png"

            #     Label:
            #         text: "Mazabuka"
            #         color: "black"
            #         pos_hint: {"top":0.9, "x":0.35}

        GridLayout:
            cols: 2
            padding: 30, 0
            background_color: "white"
            
            Button:
                text: "Temperature"
                background_color: "black"

            Button:
                text: "Humidity"
                background_color: "black"

            Button:
                text: "Windspeed"
                background_color: "black"

            Button:
                text: "Rainfall"
                background_color: "black"

        FloatLayout:
            padding: 15, 30
            Button:
                margin: 10
                text: "Scan crop with camera"
                background_color: 0.15, 0.57, 0.14, 1
                size_hint: 0.7, 0.7
                pos_hint: {"x": 0.15, "y": 0.2}
                on_release: 
                    app.root.current = "ScanCropPage"
                    root.manager.transition.direction = "left"

        GridLayout
            cols:2
            # padding: 10
            gap:10
            Button:
                text: "Crop Scan"
                background_color: "black"

            Button:
                text: "Crop Servicing"
                background_color: "black"

        GridLayout
            cols:2
            Button:
                text: "Soil Scan"
                background_color: "black"

            Button:
                text: "Smart Water"
                background_color: "black"

        GridLayout
            cols:2
            Button:
                text: "Agro Shop"
                background_color: "black"

            Button:
                text: "Marketplace"
                background_color: "black"

        GridLayout
            cols:2
            Button:
                text: "Farm Security"
                background_color: "black"

            Button:
                text: "Knowledge Center"
                background_color: "black"

        GridLayout
            cols:2
            Button:
                text: "Animal Scan"
                background_color: "black"

            Button:
                text: "Animal Servicing"
                background_color: "black"


<ScanCropScreen>:
    name: "ScanCropPage"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    Button:
        text: "Go back"
        size_hint: 0.3, 0.06
        background_color: "green"
        pos_hint: {"x":0, "top":1}
        on_release: 
            app.root.current = "DashboardPage"
            root.manager.transition.direction = "right"

    Button:
        text: "Open Camera"
        size_hint: 0.5, 0.06
        pos_hint: {"x":0.25, "top":0.2}



    Button:
        text: "Diagnose"
        size_hint: 0.5, 0.06
        pos_hint: {"x":0.25, "top":0.1}